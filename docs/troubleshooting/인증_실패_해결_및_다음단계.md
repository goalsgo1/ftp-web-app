# âŒ ì¸ì¦ ì‹¤íŒ¨ í•´ê²° ë° ë‹¤ìŒ ë‹¨ê³„

í˜„ì¬ Git ì €ì¥ì†Œ í´ë¡  ì‹œ ì¸ì¦ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. í•´ê²° ë°©ë²•ê³¼ ë‹¤ìŒ ë‹¨ê³„ë¥¼ ì•ˆë‚´í•©ë‹ˆë‹¤.

---

## âŒ í˜„ì¬ ì˜¤ë¥˜

```
remote: Invalid username or token. Password authentication is not supported for Git operations.
fatal: Authentication failed
```

**ì›ì¸:**
- GitHubëŠ” ë¹„ë°€ë²ˆí˜¸ ì¸ì¦ì„ ì§€ì›í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤
- Personal Access Tokenì„ ì˜¬ë°”ë¥´ê²Œ ì…ë ¥í•˜ì§€ ëª»í–ˆìŠµë‹ˆë‹¤

---

## âœ… í•´ê²° ë°©ë²•

### ë°©ë²• 1: ì €ì¥ì†Œë¥¼ Publicìœ¼ë¡œ ë³€ê²½ (ê°€ì¥ ì‰¬ì›€) â­

**ì €ì¥ì†Œë¥¼ Publicìœ¼ë¡œ ë³€ê²½í•˜ë©´ ì¸ì¦ ì—†ì´ í´ë¡ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.**

#### 1. GitHub ì›¹ì‚¬ì´íŠ¸ ì ‘ì†
- https://github.com/goalsgo1/ftp-web-app

#### 2. Settings í´ë¦­
- ì €ì¥ì†Œ í˜ì´ì§€ â†’ Settings íƒ­

#### 3. ì•„ë˜ë¡œ ìŠ¤í¬ë¡¤
- "Danger Zone" ì„¹ì…˜ ì°¾ê¸°

#### 4. "Change repository visibility" í´ë¦­

#### 5. "Make public" ì„ íƒ

#### 6. í™•ì¸
- ì €ì¥ì†Œ ì´ë¦„ ì…ë ¥: `goalsgo1/ftp-web-app`
- "I understand, change repository visibility" í´ë¦­

#### 7. ë‹¤ì‹œ í´ë¡  ì‹œë„
```bash
sudo -u deploy git clone https://github.com/goalsgo1/ftp-web-app.git /var/www/myapp/repo
```

**ì´ì œ ì¸ì¦ ì—†ì´ í´ë¡ ë©ë‹ˆë‹¤!**

---

### ë°©ë²• 2: Personal Access Tokenì„ URLì— í¬í•¨

```bash
# í† í°ì„ URLì— í¬í•¨ì‹œí‚¤ê¸°
sudo -u deploy git clone https://í† í°@github.com/goalsgo1/ftp-web-app.git /var/www/myapp/repo
```

**ì˜ˆì‹œ:**
```bash
sudo -u deploy git clone https://ghp_xxxxxxxxxxxx@github.com/goalsgo1/ftp-web-app.git /var/www/myapp/repo
```

âš ï¸ **ë³´ì•ˆ ì£¼ì˜:** ì´ ë°©ë²•ì€ ëª…ë ¹ì–´ íˆìŠ¤í† ë¦¬ì— í† í°ì´ ë‚¨ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

---

### ë°©ë²• 3: SSH ì‚¬ìš©

SSH í‚¤ë¥¼ ì„¤ì •í•˜ë©´ ì¸ì¦ ì—†ì´ í´ë¡ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤ (ë‚˜ì¤‘ì— ì„¤ì •).

---

## ğŸ“Š í˜„ì¬ ì§„í–‰ ìƒí™©

### âœ… ì™„ë£Œëœ ì‘ì—…

1. âœ… ë¡œì»¬ Git ì„¤ì •
2. âœ… GitHub ì €ì¥ì†Œ ìƒì„± ë° ì—°ê²°
3. âœ… GitHub ì¸ì¦ (Personal Access Token)
4. âœ… GitHub Secrets ì„¤ì • (`DEPLOY_KEY` ì™„ë£Œ)
5. âœ… ì„œë²„ ì¤€ë¹„ ì‹œì‘
   - âœ… ë°°í¬ ì‚¬ìš©ì ìƒì„± (`deploy`)
   - âš ï¸ Git ì €ì¥ì†Œ í´ë¡  (ì¸ì¦ ì˜¤ë¥˜ ë°œìƒ)

### â­ï¸ ë‚¨ì€ ì‘ì—…

#### 1. Git ì €ì¥ì†Œ í´ë¡  ì™„ë£Œ (ì§€ê¸ˆ ë°”ë¡œ)
- ì €ì¥ì†Œë¥¼ Publicìœ¼ë¡œ ë³€ê²½ (ê¶Œì¥)
- ë˜ëŠ” Personal Access Token ì¬ì‹œë„

#### 2. GitHub Secrets ì™„ë£Œ
- `DEPLOY_HOST` ì¶”ê°€
- `DEPLOY_USER` ì¶”ê°€

#### 3. ì„œë²„ ì¤€ë¹„ ê³„ì†
- ë°°í¬ ë””ë ‰í† ë¦¬ ìƒì„±
- SSH ê³µê°œí‚¤ ë“±ë¡
- ë°°í¬ ìŠ¤í¬ë¦½íŠ¸ ì„¤ì •
- Nginx ì„¤ì • ìˆ˜ì •

#### 4. ìë™ ë°°í¬ í…ŒìŠ¤íŠ¸

---

## ğŸ¯ ê¶Œì¥ ì§„í–‰ ìˆœì„œ

### Step 1: ì €ì¥ì†Œë¥¼ Publicìœ¼ë¡œ ë³€ê²½ (5ë¶„)

1. GitHubì—ì„œ ì €ì¥ì†Œë¥¼ Publicìœ¼ë¡œ ë³€ê²½
2. ë‹¤ì‹œ í´ë¡  ì‹œë„:
   ```bash
   sudo -u deploy git clone https://github.com/goalsgo1/ftp-web-app.git /var/www/myapp/repo
   ```

### Step 2: GitHub Secrets ì™„ë£Œ (5ë¶„)

1. `DEPLOY_HOST` ì¶”ê°€ (ì„œë²„ IP)
2. `DEPLOY_USER` ì¶”ê°€ (`deploy`)

### Step 3: ì„œë²„ ì¤€ë¹„ ê³„ì† (30ë¶„)

```bash
# ë°°í¬ ë””ë ‰í† ë¦¬ ìƒì„±
sudo mkdir -p /var/www/myapp/{releases,shared,repo}
sudo chown -R deploy:deploy /var/www/myapp

# SSH ê³µê°œí‚¤ ë“±ë¡ (ë‚˜ì¤‘ì—)

# ë°°í¬ ìŠ¤í¬ë¦½íŠ¸ ì„¤ì •
sudo cp /var/www/myapp/repo/deploy/deploy.sh /var/www/myapp/
sudo chmod +x /var/www/myapp/deploy.sh
sudo chown deploy:deploy /var/www/myapp/deploy.sh

# Nginx ì„¤ì • ìˆ˜ì •
sudo nano /etc/nginx/sites-available/default
# root /var/www/myapp/current/public; ë¡œ ë³€ê²½

sudo nginx -t
sudo systemctl reload nginx

# ì´ˆê¸° ì‹¬ë³¼ë¦­ ë§í¬ ìƒì„±
sudo -u deploy ln -s /var/www/myapp/repo/public /var/www/myapp/current
```

### Step 4: SSH ê³µê°œí‚¤ ë“±ë¡ (10ë¶„)

ìœˆë„ìš°ì—ì„œ:
```powershell
Get-Content deploy_key.pub | clip
```

ë¦¬ëˆ…ìŠ¤ì—ì„œ:
```bash
sudo mkdir -p /home/deploy/.ssh
sudo chmod 700 /home/deploy/.ssh
sudo nano /home/deploy/.ssh/authorized_keys
# ê³µê°œí‚¤ ë¶™ì—¬ë„£ê¸°
sudo chown -R deploy:deploy /home/deploy/.ssh
sudo chmod 600 /home/deploy/.ssh/authorized_keys
```

### Step 5: ìë™ ë°°í¬ í…ŒìŠ¤íŠ¸ (5ë¶„)

```powershell
# ìœˆë„ìš° PowerShellì—ì„œ
git add .
git commit -m "Test: ìë™ ë°°í¬ í™•ì¸"
git push origin main
```

GitHub Actions í™•ì¸:
- https://github.com/goalsgo1/ftp-web-app/actions

---

## ğŸ“Š ì§„í–‰ë¥ 

| ë‹¨ê³„ | ìƒíƒœ | ì§„í–‰ë¥  |
|------|------|--------|
| ë¡œì»¬ Git ì„¤ì • | âœ… ì™„ë£Œ | 100% |
| GitHub ì €ì¥ì†Œ | âœ… ì™„ë£Œ | 100% |
| GitHub ì¸ì¦ | âœ… ì™„ë£Œ | 100% |
| GitHub Secrets | âš ï¸ ì§„í–‰ ì¤‘ | 33% (1/3) |
| ì„œë²„ ì¤€ë¹„ | âš ï¸ ì§„í–‰ ì¤‘ | 20% |
| ìë™ ë°°í¬ í…ŒìŠ¤íŠ¸ | âŒ ë¯¸ì™„ë£Œ | 0% |

**ì „ì²´ ì§„í–‰ë¥ : ì•½ 55%**

---

## â±ï¸ ì˜ˆìƒ ì†Œìš” ì‹œê°„

- **ì €ì¥ì†Œ Public ë³€ê²½**: 2ë¶„
- **Git ì €ì¥ì†Œ í´ë¡ **: 1ë¶„
- **GitHub Secrets ì™„ë£Œ**: 5ë¶„
- **ì„œë²„ ì¤€ë¹„ ì™„ë£Œ**: 30ë¶„
- **SSH í‚¤ ë“±ë¡**: 10ë¶„
- **ìë™ ë°°í¬ í…ŒìŠ¤íŠ¸**: 5ë¶„

**ì´ ì˜ˆìƒ ì‹œê°„: ì•½ 1ì‹œê°„**

---

## ğŸš€ ì§€ê¸ˆ ë°”ë¡œ í•  ì¼

### 1. ì €ì¥ì†Œë¥¼ Publicìœ¼ë¡œ ë³€ê²½
- GitHub â†’ Settings â†’ Change repository visibility â†’ Make public

### 2. Git ì €ì¥ì†Œ í´ë¡  ì¬ì‹œë„
```bash
sudo -u deploy git clone https://github.com/goalsgo1/ftp-web-app.git /var/www/myapp/repo
```

### 3. GitHub Secrets ì™„ë£Œ
- `DEPLOY_HOST` ì¶”ê°€
- `DEPLOY_USER` ì¶”ê°€

---

**ì§€ê¸ˆ GitHubì—ì„œ ì €ì¥ì†Œë¥¼ Publicìœ¼ë¡œ ë³€ê²½í•˜ì„¸ìš”!** ğŸš€

ê·¸ëŸ¬ë©´ ì¸ì¦ ì—†ì´ í´ë¡ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤!
