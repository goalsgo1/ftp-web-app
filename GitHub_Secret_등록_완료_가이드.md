# β… GitHub Secret λ“±λ΅ μ™„λ£ κ°€μ΄λ“

SSH κ°μΈν‚¤κ°€ μ λ€λ΅ λ¶™μ—¬λ„£μ–΄μ§„ κ²ƒ κ°™μµλ‹λ‹¤. ν™•μΈ ν›„ μ™„λ£ν•μ„Έμ”!

---

## β… ν„μ¬ μƒνƒ ν™•μΈ

ν™”λ©΄μ„ λ³΄λ‹:
- β… Name: `DEPLOY_KEY` (μ¬λ°”λ¦„)
- β… Secret: SSH κ°μΈν‚¤ λ¶™μ—¬λ„£μ
  - `-----BEGIN OPENSSH PRIVATE KEY-----` μ‹μ‘
  - `-----END OPENSSH PRIVATE KEY-----` λ

**κ±°μ μ™„λ£λμ—μµλ‹λ‹¤!**

---

## π” ν™•μΈ μ‚¬ν•­

### 1. ν‚¤κ°€ μ™„μ „ν•μ§€ ν™•μΈ

κ°μΈν‚¤λ” λ‹¤μκ³Ό κ°™μ€ ν•μ‹μ΄μ–΄μ•Ό ν•©λ‹λ‹¤:

```
-----BEGIN OPENSSH PRIVATE KEY-----
(μ—¬λ¬ μ¤„μ μ•”νΈν™”λ λ¬Έμμ—΄)
-----END OPENSSH PRIVATE KEY-----
```

**ν™•μΈ ν¬μΈνΈ:**
- β… `-----BEGIN`μΌλ΅ μ‹μ‘ν•λ”κ°€?
- β… `-----END`λ΅ λλ‚λ”κ°€?
- β… μ¤‘κ°„ λ‚΄μ©μ΄ λΉ μ§€μ§€ μ•μ•λ”κ°€?

### 2. λΉ¨κ°„ λ°‘μ¤„ ν™•μΈ

μΌλ¶€ ν…μ¤νΈμ— λΉ¨κ°„ λ°‘μ¤„μ΄ λ³΄μΌ μ μλ”λ°:
- μ΄κ²ƒμ€ **μ •μƒ**μ…λ‹λ‹¤
- GitHubμ λ¬Έλ²• μ²΄ν¬ ν‘μ‹μΌ λΏ
- SSH ν‚¤λ” μ•”νΈν™”λ λ¬Έμμ—΄μ΄λΌ μ΄λ ‡κ² ν‘μ‹λ  μ μμ
- **λ¬΄μ‹ν•κ³  μ§„ν–‰ν•΄λ„ λ©λ‹λ‹¤**

---

## β… μ™„λ£ν•κΈ°

### 1. μµμΆ… ν™•μΈ

Secret ν•„λ“μ— λ‹¤μμ΄ λ¨λ‘ ν¬ν•¨λμ–΄ μλ”μ§€ ν™•μΈ:
- `-----BEGIN OPENSSH PRIVATE KEY-----`
- μ¤‘κ°„ λ‚΄μ© (μ•”νΈν™”λ λ¬Έμμ—΄)
- `-----END OPENSSH PRIVATE KEY-----`

### 2. "Add secret" λ²„νΌ ν΄λ¦­

λ¨λ“  λ‚΄μ©μ΄ ν™•μΈλλ©΄:
- **"Add secret"** λ²„νΌ ν΄λ¦­
- Secretμ΄ μ €μ¥λ©λ‹λ‹¤

---

## β… μ™„λ£ ν›„ ν™•μΈ

Secretμ΄ μ¶”κ°€λλ©΄:

1. **Secrets λ©λ΅μΌλ΅ μ΄λ™**
   - Settings β†’ Secrets and variables β†’ Actions
   - λ‹¤μ 3κ°κ°€ λ³΄μ—¬μ•Ό ν•¨:
     - β… `DEPLOY_HOST`
     - β… `DEPLOY_USER`
     - β… `DEPLOY_KEY`

2. **κ° Secret μ΄λ¦„ ν™•μΈ**
   - μ •ν™•ν λ€λ¬Έμλ΅ λμ–΄ μλ”μ§€
   - μ¤νƒ€ μ—†λ”μ§€

---

## π“‹ λ‚λ¨Έμ§€ Secret μ¶”κ°€ν•κΈ°

μ•„μ§ μ¶”κ°€ν•μ§€ μ•μ•λ‹¤λ©΄:

### DEPLOY_HOST μ¶”κ°€

1. **"New secret"** λ²„νΌ ν΄λ¦­
2. **Name**: `DEPLOY_HOST`
3. **Secret**: μ„λ²„ IP μ£Όμ†
   - μ: `192.168.1.100`
   - μ: `172.30.1.42`
4. **"Add secret"** ν΄λ¦­

### DEPLOY_USER μ¶”κ°€

1. **"New secret"** λ²„νΌ ν΄λ¦­
2. **Name**: `DEPLOY_USER`
3. **Secret**: `deploy` (λλ” λ°°ν¬ μ‚¬μ©μλ…)
4. **"Add secret"** ν΄λ¦­

---

## π― λ‹¤μ λ‹¨κ³„

3κ°μ Secretμ„ λ¨λ‘ μ¶”κ°€ν–λ‹¤λ©΄:

### 1. μ½”λ“ ν‘Έμ‹ ν…μ¤νΈ

```powershell
# μ‘μ€ λ³€κ²½μ‚¬ν•­ μ¶”κ°€
git add .
git commit -m "Test: CI/CD μ„¤μ • ν™•μΈ"
git push origin main
```

### 2. GitHub Actions ν™•μΈ

- https://github.com/goalsgo1/ftp-web-app/actions
- μ›ν¬ν”λ΅μ° μ‹¤ν–‰ μƒνƒ ν™•μΈ
- λ°°ν¬ μ„±κ³µ μ—¬λ¶€ ν™•μΈ

---

## π† λ¬Έμ  ν•΄κ²°

### Secretμ΄ μ €μ¥λμ§€ μ•μ•„μ”

**ν™•μΈ:**
1. ν‚¤ λ‚΄μ©μ΄ μ™„μ „ν•μ§€ ν™•μΈ (BEGIN ~ END)
2. κ³µλ°±μ΄λ‚ μ¤„λ°”κΏμ΄ ν¬ν•¨λμ–΄ μλ”μ§€ ν™•μΈ
3. λ‹¤μ‹ μ‹λ„

### GitHub Actionsμ—μ„ μΈμ¦ μ‹¤ν¨

**ν™•μΈ:**
1. Secret μ΄λ¦„μ΄ μ •ν™•ν•μ§€ (`DEPLOY_KEY`, λ€λ¬Έμ)
2. ν‚¤κ°€ μ¬λ°”λ¥΄κ² λ³µμ‚¬λμ—λ”μ§€
3. μ„λ²„μ— κ³µκ°ν‚¤κ°€ λ“±λ΅λμ—λ”μ§€

### μ„λ²„ μ ‘μ† μ¤λ¥

**ν™•μΈ:**
1. `DEPLOY_HOST` - μ„λ²„ IPκ°€ λ§λ”μ§€
2. `DEPLOY_USER` - μ‚¬μ©μλ…μ΄ λ§λ”μ§€
3. μ„λ²„μ— SSH ν‚¤(κ³µκ°ν‚¤)κ°€ λ“±λ΅λμ—λ”μ§€

---

## β… μ™„λ£ μ²΄ν¬λ¦¬μ¤νΈ

- [ ] `DEPLOY_KEY` Secret λ“±λ΅ (SSH κ°μΈν‚¤)
- [ ] `DEPLOY_HOST` Secret λ“±λ΅ (μ„λ²„ IP)
- [ ] `DEPLOY_USER` Secret λ“±λ΅ (μ‚¬μ©μλ…)
- [ ] Secrets λ©λ΅μ—μ„ 3κ° λ¨λ‘ ν™•μΈ
- [ ] μ½”λ“ ν‘Έμ‹ ν…μ¤νΈ
- [ ] GitHub Actions μ‹¤ν–‰ ν™•μΈ

---

## π’΅ ν

### κ³µκ°ν‚¤λ„ λ³µμ‚¬ν•΄λ‘μ„Έμ”

λ‚μ¤‘μ— μ„λ²„μ— λ“±λ΅ν•΄μ•Ό ν•©λ‹λ‹¤:

```powershell
# κ³µκ°ν‚¤ λ³µμ‚¬
Get-Content deploy_key.pub | clip
```

μ΄ κ³µκ°ν‚¤λ¥Ό μ„λ²„μ `~/.ssh/authorized_keys`μ— μ¶”κ°€ν•΄μ•Ό ν•©λ‹λ‹¤.

---

**μ§€κΈ "Add secret" λ²„νΌμ„ ν΄λ¦­ν•μ„Έμ”!**  
**κ·Έ λ‹¤μ `DEPLOY_HOST`μ™€ `DEPLOY_USER`λ„ μ¶”κ°€ν•μ„Έμ”!** π€
