# Agent 화면 검색 필터 구현 방식 결정 필요

## 📅 논의 일정
- **일시**: 다음주 월요일 (연구소장님 방문 시)
- **안건**: Agent 화면 검색 필터를 하드코딩으로 유지할지, DB화 할지 결정

---

## 🔍 현재 상황

### 현재 구현 방식
- **방식**: 하드코딩 (JavaScript 코드에 직접 배열로 정의)
- **위치**: `src/main/resources/static/js/device.js` (420-428 라인)
- **검색 옵션 목록**:
  1. 빠른 검색 (all)
  2. IP (ip)
  3. NAT IP (natIp)
  4. MAC (mac)
  5. 사용자명 (deptUserName)
  6. 부서명 (deptName)
  7. 정책명 (policyName)

### 코드 예시
```javascript
applyOptimonDropDownStyle('selectSearchOpt', {
    dataSource: [
        { text: "빠른 검색", value: "all" },
        { text: "IP", value: "ip" },
        { text: "NAT IP", value: "natIp" },
        { text: "MAC", value: "mac" },
        { text: "사용자명", value: "deptUserName" },
        { text: "부서명", value: "deptName" },
        { text: "정책명", value: "policyName" }
    ],
    // ...
});
```

---

## 💭 검토 사항

### 1. 하드코딩 방식 (현재)

#### 장점
- ✅ 구현이 간단하고 빠름
- ✅ 성능이 좋음 (DB 조회 불필요)
- ✅ 검색 옵션이 자주 변경되지 않는 경우 적합
- ✅ 배포 시 추가 설정 불필요

#### 단점
- ❌ 옵션 변경 시 코드 수정 및 재배포 필요
- ❌ 관리자 권한으로 동적 변경 불가
- ❌ 환경별로 다른 옵션 제공 어려움
- ❌ 옵션 사용 통계 수집 어려움

---

### 2. DB화 방식 (제안)

#### 장점
- ✅ 관리자 화면에서 동적으로 옵션 추가/수정/삭제 가능
- ✅ 환경별/고객별로 다른 검색 옵션 제공 가능
- ✅ 옵션별 사용 통계 수집 가능
- ✅ 코드 수정 없이 옵션 변경 가능

#### 단점
- ❌ 초기 개발 시간 증가 (DB 설계, API 개발, 관리 화면 개발)
- ❌ 페이지 로드 시 DB 조회 필요 (캐싱 고려 필요)
- ❌ 복잡도 증가 (DB 스키마, 백엔드 API, 프론트엔드 연동)

---

## 🤔 결정이 필요한 사항

### 질문 1: 검색 옵션이 자주 변경되나요?
- [ ] 자주 변경됨 → **DB화 권장**
- [ ] 거의 변경되지 않음 → **하드코딩 유지 권장**

### 질문 2: 고객사별로 다른 검색 옵션이 필요한가요?
- [ ] 필요함 → **DB화 권장**
- [ ] 불필요 → **하드코딩 유지 권장**

### 질문 3: 관리자가 직접 검색 옵션을 관리해야 하나요?
- [ ] 필요함 → **DB화 권장**
- [ ] 개발자가 관리 → **하드코딩 유지 권장**

### 질문 4: 검색 옵션 사용 통계가 필요한가요?
- [ ] 필요함 → **DB화 권장**
- [ ] 불필요 → **하드코딩 유지 권장**

---

## 📋 제안 사항

### 옵션 A: 하드코딩 유지 (현재 방식)
- **추천 시나리오**: 검색 옵션이 안정적이고 변경이 거의 없는 경우
- **작업 내용**: 현재 상태 유지

### 옵션 B: DB화 전환
- **추천 시나리오**: 검색 옵션을 동적으로 관리해야 하거나 고객사별 커스터마이징이 필요한 경우
- **작업 내용**:
  1. DB 테이블 설계 (검색 옵션 관리 테이블)
  2. 백엔드 API 개발 (옵션 조회, CRUD)
  3. 관리 화면 개발 (옵션 관리 UI)
  4. 프론트엔드 수정 (API 연동)
  5. 캐싱 전략 수립 (성능 최적화)

---

## 💡 하이브리드 방안 (참고)

### 제안: 하드코딩 + 설정 파일
- 기본 옵션은 하드코딩
- 추가 옵션은 설정 파일(JSON/YAML) 또는 DB에서 로드
- 변경 빈도가 낮은 기본 옵션은 하드코딩, 확장 옵션만 DB화

---

## 📝 참고 정보

- **관련 파일**: `src/main/resources/static/js/device.js`
- **현재 검색 옵션 수**: 7개
- **변경 이력**: 최근 변경 사항 확인 필요

---

## ✅ 결정 사항 (논의 후 작성)

- [ ] 하드코딩 유지
- [ ] DB화 전환
- [ ] 하이브리드 방안
- [ ] 기타: _________________

**결정자**: 연구소장님  
**결정 일시**: ___________  
**비고**: _________________

